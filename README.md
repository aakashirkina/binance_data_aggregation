# test_assignment
## Описание

### Получение данных
Необходимо написать соединение через WebSocket к Binance. По ниму необходимо выгружать пары: BTC-USDT (spot Binance), BTC-USDT (perp Binance-futures).

По каждой паре нужны trades, а также open_interest и funding rate (без orderbook).

### Обработка данных

Полученные данные по trades, open_interest и funding rate нужно привести в вид
свечек 1/5-минутных (по вашему выбору гранулярности). Полученный dataframe должен
выглядеть примерно как в [файле](./processed_data/data_2019-04-01T00:00:00_2019-04-02T00:00:00.feather).
То есть важно собрать следующие колонки: 
- OHLC по каждой паре;
- trades, volume и buy_volume по каждой паре;
- open_interest и funding_rate по perpetual futures по каждой паре;
- суммарный volume, trades, buy_volume для спот-пар и для perpetual-пар;
- суммарный open_interest для perpetual-пар;
- средневзвешенный по open_interest funding_rate для всех perpetual-пар;
- суммарное значение по всем парам volume, trades, buy_volume.

Данную агрегацию просим выполнить двумя способами:
    (1) с использованием pandas 
    (2) с использованием циклов и без использования pandas. 

Как итог, важно понять, какой способ работает быстрее (учитывая, что результат совпадает).

Итог данной агрегации можно сохранять в формате csv/feather/любом другом удобном формате в папку `processed_data/`.
Можно сохранять как отдельными файлами для каждой свечки, так и дописывать новые свечки в один файл (предпочтительнее).

### Прочие комментарии

- В рамках задания можно считать, что цены USDT, FDUSD, USD и любых других стейблкоинов равны 1 USD.
- Для подключения к Deribit и Binance скорее всего понадобится создать API-ключ. Его стоит хранить в .env (задание можно прислать без конкретных значений .env, если считаете небезопасной передачу ключей).
- Результатом работы кода может быть main.py, из которого осуществляется запуск программы. Если удобнее, то можно создать Docker-файл и запускать как контейнер.
- Важно сказать, что цены и другие значения по разным парам приходят в разных единицах измерения. Например, что-то в BTC, что-то в USD, что-то в контрактах. Важно аккуратно конвертировать всё в USD.
- (Необязательно) написать комментарии в коде или PDF с пояснением решения и его результатов.
- Время на задание подразумевает, в том числе, использование ChatGPT для написания кода.
